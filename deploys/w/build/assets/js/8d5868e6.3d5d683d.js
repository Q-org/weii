"use strict";(self.webpackChunkwei=self.webpackChunkwei||[]).push([[3692,3807,6189,7376,8915],{1932:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(78910),a=n(60646),s=n(30758),i=n(79414),o=n(3854),c=n(90416),u=n(22779),l=n(25755),d=n(86070),h=function(e){return e[e.IDLE=0]="IDLE",e[e.READING=1]="READING",e[e.PAUSED=2]="PAUSED",e[e.FINISHED=3]="FINISHED",e}(h||{}),p=function(){function e(){this.currentSpeech=null,this.readingState=h.IDLE}var t=e.prototype;return t.getTextToRead=function(e){var t=document.querySelectorAll("h1,h2,p"),n="";return t.forEach((function(e){n+=e.innerText+" "})),n},t.startReading=function(e,t){return void 0===e&&(e=this.currentSpeech),void 0===t&&(t=this.readingState),e||(this.currentSpeech||(this.currentSpeech=new SpeechSynthesisUtterance,this.currentSpeech.text=this.getTextToRead(),this.currentSpeech.lang="zh-CN"),e=this.currentSpeech.text),t===h.READING?this.pauseReading():t===h.PAUSED?this.resumeReading():t===h.IDLE&&(this.cancelReading(),this.currentSpeech=new SpeechSynthesisUtterance,this.currentSpeech.text=e,this.currentSpeech.lang="zh-CN",window.speechSynthesis.speak(this.currentSpeech),this.readingState=h.READING),this.readingState},t.pauseReading=function(){this.readingState===h.READING&&(window.speechSynthesis.pause(),this.readingState=h.PAUSED)},t.resumeReading=function(){this.readingState===h.PAUSED&&(window.speechSynthesis.resume(),this.readingState=h.READING)},t.replaceReading=function(){this.cancelReading()},t.cancelReading=function(){this.readingState!==h.IDLE&&(window.speechSynthesis.cancel(),this.readingState=h.IDLE)},e}();var f=n(55076),g=n(25234),x=n(76096);function v(){var e=(0,s.useRef)(null),t=(0,s.useState)(!1),i=t[0],o=t[1],c=function(){var t=(0,a.A)((0,r.A)().mark((function t(){var s;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getDisplayMedia({video:!0});case 3:return s=t.sent,o(!0),t.abrupt("return",n.e(3779).then(n.bind(n,73779)).then(function(){var t=(0,a.A)((0,r.A)().mark((function t(n){var a;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.default,t.prev=1,e.current=new a({enableWebRtc:!1,wrcWindowMode:!0,clickCutFullScreen:!0,completeCallback:function(e){e.base64,e.cutInfo;o(!1),s.getTracks().forEach((function(e){return e.stop()})),console.log("completeCallback")}}),t.abrupt("return",{status:"success",message:"\u622a\u5c4f\u6210\u529f"});case 6:return t.prev=6,t.t0=t.catch(1),console.error("\u622a\u5c4f\u65f6\u53d1\u751f\u9519\u8bef:",(null==t.t0?void 0:t.t0.message)||t.t0),s.getTracks().forEach((function(e){return e.stop()})),t.abrupt("return",{status:"failure",message:"\u622a\u5c4f\u65f6\u53d1\u751f\u9519\u8bef: "+((null==t.t0?void 0:t.t0.message)||t.t0)});case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.error("\u622a\u5c4f\u65f6\u53d1\u751f\u9519\u8bef:",e.message),s.getTracks().forEach((function(e){return e.stop()})),{status:"failure",message:"\u622a\u5c4f\u65f6\u53d1\u751f\u9519\u8bef: "+e.message}})));case 8:if(t.prev=8,t.t0=t.catch(0),"NotAllowedError"!==t.t0.name){t.next=14;break}return t.abrupt("return",{status:"denied",message:"\u7528\u6237\u62d2\u7edd\u4e86\u5c4f\u5e55\u5171\u4eab\u6743\u9650\u8bf7\u6c42"});case 14:if("NotFoundError"!==t.t0.name){t.next=18;break}return t.abrupt("return",{status:"unsupported",message:"\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5c4f\u5e55\u5171\u4eab\u529f\u80fd"});case 18:return console.error("\u5c4f\u5e55\u5171\u4eab\u6743\u9650\u8bf7\u6c42\u5931\u8d25:",t.t0),t.abrupt("return",{status:"failure",message:"\u5c4f\u5e55\u5171\u4eab\u6743\u9650\u8bf7\u6c42\u5931\u8d25: "+t.t0.message});case 20:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return{handleScreenShot:c,UrlOverlay:function(){window.location.href;return(0,d.jsx)(g.A,{id:"urlOverlay",style:{position:"fixed",bottom:"10px",left:"10px",padding:"5px",display:i?"block":"none"},children:(0,d.jsx)(S,{})})}}}var S=function(){var e=window.location.href;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{children:e}),(0,d.jsx)(x.Ay,{value:e,size:76.2})," "]})};var m={read:1020,like:500,comment:390,share:1e4,collect:2e5},A=new p,D={},w=[{icon:(0,d.jsx)(u.A,{}),id:"collect",counts:1234,isDone:!1},{icon:(0,d.jsx)(c.A,{}),id:"share",counts:1234,isDone:!1},{icon:(0,d.jsx)(o.A,{}),id:"comment",counts:1234,isDone:!1},{icon:(0,d.jsx)(i.A,{}),id:"like",counts:1234,isDone:!1},{icon:(0,d.jsx)(f.A,{}),id:"read",counts:1234,isDone:!0},{icon:(0,d.jsx)(l.A,{}),id:"follow",counts:1234,isDone:!1}].map((function(e,t){var n;return e.counts=null!=(n=m[e.id])?n:0,D[e.id]=t,e}));function b(){var e=s.useState(0),t=(e[0],e[1]),n=v(),i=n.handleScreenShot,o=n.UrlOverlay,c=s.useState(w),u=c[0],l=c[1],d=function(){var e=(0,a.A)((0,r.A)().mark((function e(n){var a,s,o,c;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="share"!==n&&"read"!==n,"share"!==n){e.next=7;break}return e.next=4,i();case 4:if(o=e.sent,null==(s=!o||"success"!==(null==o?void 0:o.status))||!s){e.next=7;break}return e.abrupt("return");case 7:l((function(e){return e.map((function(e){if(e.id!==n)return e;var t,r=(void 0===(t=w)&&(t=u),t[D[n]]),s=!e.isDone,i=r.isDone!==s;return Object.assign({},e,{isDone:!a||s,counts:a?i?r.counts+(s?1:-1):r.counts:e.counts+1})}))})),"read"===n&&(c=A.startReading("",A.readingState),t(c));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{socials:u,handleAction:d,handleScreenShot:i,UrlOverlay:o}}},27405:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(30758),a=n(18853),s=n(81134),i=n(86705),o=n(29117),c=n(70542),u=n(93419),l=n(71260),d=n(1932),h=n(86070),p=(0,a.A)((function(e){var t;return{root:{height:320,transform:"translateZ(0px)"},speedDial:(t={position:"fixed",top:e.spacing(2)},t.top=function(e){var t=e.viewportHeight;return t>=400?t-400:0},t.right=e.spacing(2),t)}}));const f=r.memo((function(e){var t=r.useContext(l.pK).height,n=p({viewportHeight:t}),a=r.useState(!0),f=a[0],g=a[1],x=(0,d.default)(),v=x.socials,S=x.handleAction,m=x.UrlOverlay;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m,{}),(0,h.jsx)(s.A,{ariaLabel:"SpeedDial basic example",className:n.speedDial,icon:f?(0,h.jsx)(i.A,{openIcon:(0,h.jsx)(u.A,{})}):(0,h.jsx)(c.A,{}),open:f,onClick:function(){return g(!f)},hidden:!!f,children:v.map((function(e){return(0,h.jsx)(o.A,{icon:e.icon,tooltipTitle:e.id,onClick:function(t){t.stopPropagation(),S(e.id)},sx:{position:"relative",backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},color:e.isDone?"gold":"inherit",boxShadow:"none","::after":{content:'"'+e.counts+'"',position:"absolute",bottom:"-20px",left:"50%",transform:"translateX(-50%)",borderRadius:"50%",padding:"2px 5px",fontSize:"12px"}}},e.id)}))})]})}))},48831:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(89094);const a=(0,n(76495).default)(r.default)},76495:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});n(30758);var r=n(27405),a=n(71260),s=n(25234),i=n(86070);function o(e){return function(t){var n=(0,a.Ay)("VIEWPORT_SIZE",320);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e,Object.assign({},t)),(0,i.jsx)(s.A,{sx:{position:"fixed",top:n,right:40,zIndex:999,height:"20vh"},children:(0,i.jsx)(r.default,{})})]})}}},89094:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});n(30758);var r=n(86070);function a(){return(0,r.jsx)("div",{})}}}]);