"use strict";(self.webpackChunkwei=self.webpackChunkwei||[]).push([[515],{40515:(e,o,n)=>{n.r(o),n.d(o,{ErrorHandler:()=>s,exampleTask:()=>c,generateCallBack:()=>r,runTask:()=>t,runTask0:()=>i,runTask3:()=>a,testErrorHandler:()=>l});var r=function(e){return e&&"function"==typeof e||(e=function(){console.log(123,e)}),e};function t(e){if("function"!=typeof e)throw new Error("task must be a function");var o=performance.now();return console.log("\u5f00\u59cb Task"),new Promise((function(n){requestIdleCallback((function r(t){if(t.timeRemaining()>0||t.didTimeout){var i=e();Promise.resolve(i).then((function(e){var r=performance.now();console.log("Task execution time: "+(r-o)+"ms"),n(e)}))}else console.log("\u6267\u884c Task.."),requestIdleCallback(r,{timeout:1e3})}),{timeout:1e3})}))}function i(e){return new Promise((function(o){requestIdleCallback((function n(r){if(r.timeRemaining()>0){var t=e();o(t)}else requestIdleCallback(n)}))}))}function a(e){var o=function(e,n){requestIdleCallback((function(r){if(r.timeRemaining()>0){var t=performance.now();e();var i=performance.now();console.log("\u4efb\u52a1\u5df2\u5b8c\u6210\uff0c\u603b\u5171\u8fd0\u884c\u65f6\u95f4\uff1a"+(i-t)+"ms"),n()}else console.log("\u6267\u884c Task..."),o(e,n)}))};new Promise((function(n,r){o(e,n)})).then((function(){console.log("\u4efb\u52a1\u5df2\u7ecf\u901a\u8fc7 Promise \u5b8c\u6210")})).catch((function(e){console.error("\u4efb\u52a1\u6267\u884c\u4e2d\u51fa\u73b0\u9519\u8bef",e)}))}function c(){for(var e=performance.now(),o=0;o<1e9;o++);var n=performance.now();return console.log("\u4efb\u52a1\u8fd0\u884c\u65f6\u95f4: "+(n-e)+" \u6beb\u79d2"),n-e}var s=function(){function e(e){this.method=e||this.defaultHandleError}var o=e.prototype;return o.defaultHandleError=function(e){if(console.error("\u9519\u8bef\u6d88\u606f\uff1a",e.message),console.error("\u53d1\u751f\u9519\u8bef\u7684\u6587\u4ef6\uff1a",e.filename),console.error("\u9519\u8bef\u884c\u53f7\uff1a",e.lineno),console.error("\u9519\u8bef\u5217\u53f7\uff1a",e.colno),console.error("Error\u5bf9\u8c61\uff1a",e.error),"error"===e.type&&e.target&&"tagName"in e.target){var o=e.target;console.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\u7684\u5143\u7d20\uff1a",o),console.error("\u8d44\u6e90\u7c7b\u578b\uff1a",o.tagName)}e.preventDefault()},o.register=function(){window.addEventListener("error",this.method,!0)},o.remove=function(){window.removeEventListener("error",this.method,!0)},o.handleEvent=function(e){},o.setMethod=function(e){this.method=e},e}(),l=function(){var e=new s;e.register(),e.setMethod((function(e){console.error("\u66f4\u65b0\u540e\u7684\u9519\u8bef\u5904\u7406\uff1a",e)})),e.remove()}}}]);