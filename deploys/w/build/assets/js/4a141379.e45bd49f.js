"use strict";(self.webpackChunkwei=self.webpackChunkwei||[]).push([[9433],{16140:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(30758),a=c(i),u=c(n(8143)),d=c(n(2736)),s=n(36242),l=c(n(56532));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Frame=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.setRef=function(e){r.nodeRef.current=e;var t=r.props.forwardedRef;"function"==typeof t?t(e):t&&(t.current=e)},r.handleLoad=function(){clearInterval(r.loadCheck),r.state.iframeLoaded||r.setState({iframeLoaded:!0})},r.loadCheck=function(){return setInterval((function(){r.handleLoad()}),500)},r._isMounted=!1,r.nodeRef=a.default.createRef(),r.state={iframeLoaded:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.getDoc()&&this.nodeRef.current.contentWindow.addEventListener("DOMContentLoaded",this.handleLoad)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.nodeRef.current.removeEventListener("DOMContentLoaded",this.handleLoad)}},{key:"getDoc",value:function(){return this.nodeRef.current?this.nodeRef.current.contentDocument:null}},{key:"getMountTarget",value:function(){var e=this.getDoc();return this.props.mountTarget?e.querySelector(this.props.mountTarget):e.body.children[0]}},{key:"renderFrameContents",value:function(){if(!this._isMounted)return null;var e=this.getDoc();if(!e)return null;var t=this.props.contentDidMount,n=this.props.contentDidUpdate,r=e.defaultView||e.parentView,o=a.default.createElement(l.default,{contentDidMount:t,contentDidUpdate:n},a.default.createElement(s.FrameContextProvider,{value:{document:e,window:r}},a.default.createElement("div",{className:"frame-content"},this.props.children))),i=this.getMountTarget();return i?[u.default.createPortal(this.props.head,this.getDoc().head),u.default.createPortal(o,i)]:null}},{key:"render",value:function(){var e=r({},this.props,{srcDoc:this.props.initialContent,children:void 0});return delete e.head,delete e.initialContent,delete e.mountTarget,delete e.contentDidMount,delete e.contentDidUpdate,delete e.forwardedRef,a.default.createElement("iframe",r({},e,{ref:this.setRef,onLoad:this.handleLoad}),this.state.iframeLoaded&&this.renderFrameContents())}}]),t}(i.Component);f.propTypes={style:d.default.object,head:d.default.node,initialContent:d.default.string,mountTarget:d.default.string,contentDidMount:d.default.func,contentDidUpdate:d.default.func,children:d.default.oneOfType([d.default.element,d.default.arrayOf(d.default.element)])},f.defaultProps={style:{},head:null,children:void 0,mountTarget:void 0,contentDidMount:function(){},contentDidUpdate:function(){},initialContent:'<!DOCTYPE html><html><head></head><body><div class="frame-root"></div></body></html>'},t.default=a.default.forwardRef((function(e,t){return a.default.createElement(f,r({},e,{forwardedRef:t}))}))},16153:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(30758),o=n(13526),i=n(82682),a=n(73493),u=n(41154),d=n(44135),s=n(23927),l=n(59901),c=n(38896),f=n(90768),p=n(1020),h=n(58204);function m(e){return(0,h.Ay)("MuiInputAdornment",e)}const v=(0,p.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var y,b=n(86070);const g=(0,l.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,a.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((0,c.A)((({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${v.positionStart}&:not(.${v.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]})))),w=r.forwardRef((function(e,t){const n=(0,f.b)({props:e,name:"MuiInputAdornment"}),{children:l,className:c,component:p="div",disablePointerEvents:h=!1,disableTypography:v=!1,position:w,variant:j,...x}=n,A=(0,s.A)()||{};let D=j;j&&A.variant,A&&!D&&(D=A.variant);const _={...n,hiddenLabel:A.hiddenLabel,size:A.size,disablePointerEvents:h,position:w,variant:D},C=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:u,variant:d}=e,s={root:["root",n&&"disablePointerEvents",o&&`position${(0,a.A)(o)}`,d,r&&"hiddenLabel",u&&`size${(0,a.A)(u)}`]};return(0,i.A)(s,m,t)})(_);return(0,b.jsx)(d.A.Provider,{value:null,children:(0,b.jsx)(g,{as:p,ownerState:_,className:(0,o.A)(C.root,c),ref:t,...x,children:"string"!=typeof l||v?(0,b.jsxs)(r.Fragment,{children:["start"===w?y||(y=(0,b.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):null,l]}):(0,b.jsx)(u.A,{color:"textSecondary",children:l})})})}))},19265:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(6316),o=n(86070);const i=(0,r.A)((0,o.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},27110:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(30758),o=n(43319),i=n(17018),a=n(25289),u=n(95822),d=n(16153),s=n(85968),l=n(47245),c=n(19265),f=n(86070);const p=function(e){var t=e.onSendMessage,n=(0,r.useState)(""),o=n[0],i=n[1],a=(0,r.useState)(!1),p=a[0],h=a[1],m=function(){o.trim()&&!p&&(h(!0),t(o).finally((function(){h(!1)})),i(""))};return(0,f.jsx)(u.A,{label:"\u8f93\u5165\u6d88\u606f",variant:"outlined",fullWidth:!0,value:o,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&m()},InputProps:{endAdornment:(0,f.jsx)(d.A,{position:"end",children:(0,f.jsxs)(s.A,{onClick:m,disabled:!o.trim()||p,children:[p?(0,f.jsx)(l.A,{size:24}):(0,f.jsx)(c.A,{})," // \u5982\u679c\u6b63\u5728\u53d1\u9001\uff0c\u663e\u793a\u52a0\u8f7d\u6307\u793a\u5668"]})})}})};var h=n(43667),m=n(95527),v=n(54817),y=n(81168);const b=function(e){var t=e.messages;return(0,f.jsx)(m.A,{children:t.map((function(e){return(0,f.jsx)(v.Ay,{children:(0,f.jsx)(y.A,{primary:e.text,style:{textAlign:"user"===e.sender?"right":"left"}})},e.id)}))})};const g=function(){var e=r.useState([]),t=e[0],n=e[1];r.useRef(null);return(0,f.jsx)(i.A,{maxWidth:"sm",children:(0,f.jsxs)(a.A,{elevation:3,style:{marginTop:"20px",padding:"20px"},children:[(0,f.jsx)(b,{messages:t}),(0,f.jsx)(p,{onSendMessage:function(e){var r=(0,h.A)(),o=new Date;n([].concat(t,[{id:r,text:e,sender:"user",createdAt:o}]))}})]})})};var w=n(39237),j=function(){return r.useEffect((function(){})),(0,f.jsx)(g,{})};function x(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(w.Ay,{children:[(0,f.jsx)(o.A,Object.assign({},A)),(0,f.jsx)(j,{})]})})}var A={title:"\u6d4b\u8bd5\u7ec4\u4ef6\ud83d\ude0a\ud83d\ude80\ud83c\udf89",description:"\u8fd9\u662f\u4e00\u4e2a\u7528\u4e8e\u6d4b\u8bd5\u7684\u7ec4\u4ef6\uff0c\u7528\u4e8e\u6f14\u793a\u9875\u9762\u63cf\u8ff0\u7684\u586b\u5145\u3002",keyword:"\u6d4b\u8bd5, \u7ec4\u4ef6, React, SEO"}},36242:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FrameContextConsumer=t.FrameContextProvider=t.useFrame=t.FrameContext=void 0;var r,o=n(30758),i=(r=o)&&r.__esModule?r:{default:r};var a=void 0,u=void 0;"undefined"!=typeof document&&(a=document),"undefined"!=typeof window&&(u=window);var d=t.FrameContext=i.default.createContext({document:a,window:u}),s=(t.useFrame=function(){return i.default.useContext(d)},d.Provider),l=d.Consumer;t.FrameContextProvider=s,t.FrameContextConsumer=l},39237:(e,t,n)=>{var r=n(16140);Object.defineProperty(t,"Ay",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}});var o=n(36242)},43667:(e,t,n)=>{n.d(t,{A:()=>s});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function a(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const u=[];for(let l=0;l<256;++l)u.push((l+256).toString(16).slice(1));function d(e,t=0){return u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]}const s=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return d(o)}},56532:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(30758),i=(a(o),a(n(2736)));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.contentDidMount()}},{key:"componentDidUpdate",value:function(){this.props.contentDidUpdate()}},{key:"render",value:function(){return o.Children.only(this.props.children)}}]),t}(o.Component);u.propTypes={children:i.default.element.isRequired,contentDidMount:i.default.func.isRequired,contentDidUpdate:i.default.func.isRequired},t.default=u}}]);