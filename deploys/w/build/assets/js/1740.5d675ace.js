"use strict";(self.webpackChunkwei=self.webpackChunkwei||[]).push([[1740],{81740:(e,t,r)=>{r.r(t),r.d(t,{CreateInstance:()=>g,IsIncludes:()=>s,autoId:()=>I,initlocalForage:()=>f,initlocalForage2:()=>m,isBrowser:()=>u,timestamp:()=>w});var n=r(78910),o=r(60646),a=r(12809),c=r.n(a),i=r(43667),u=function(){return!("undefined"==typeof window||!window.navigator)};c().config({driver:c().INDEXEDDB,name:"@wei",version:1});var l=["theme"],s=function(e){if(!Array.isArray(e))throw new TypeError("must be Array ");return function(t){return e.includes(t)}},f=function(){var e=localStorage.setItem,t=localStorage.getItem,r=s(l);localStorage.setItem=function(t,n){try{r(t)&&e.call(localStorage,t,n),c().setItem(t,n)}catch(o){console.error(o)}},localStorage.getItem=function(e){try{if(r(e))return t.call(localStorage,e);c().getItem(e).then((function(e){return e}))}catch(n){console.error(n)}return null}},m=function(){var e=localStorage.setItem;localStorage.setItem=function(t,r){try{e.call(localStorage,t,r),c().setItem(t,r)}catch(n){console.error(n)}}},I=function(){return w()+(0,i.A)()};function g(e){if(!u())return null;try{var t=c().createInstance({name:"@wei",storeName:e}),r=t.setItem.bind(t),a=function(){var e=(0,o.A)((0,n.A)().mark((function e(t){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(I(),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=t.getItem.bind(t);return{collection:t,setItem:r,setItemAutoId:a,getItem:i,timestamp:w}}catch(l){throw console.error("CreateInstance failed: ",l instanceof Error?l.message:l),l}}var w=function(){return(new Date).getTime()}}}]);